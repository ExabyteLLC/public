import{j as e,b as w,d as v,a as j,B as u,f as F,G as h,i as b,t as M,F as S,M as _,h as P,k as $,I as k,Z as E,_ as V,$ as q,a0 as B,K as T,u as C,v as H,w as O,x as g,r as G,y as L,z as U,g as W,L as N,E as R,H as z}from"./index-CnGeJRwK.js";import{A as m,b as K,a as Y,c as Z,d as J,h as d,C as Q,I as X,e as ee,f as se,g as te}from"./AppForm-D_QSIDPZ.js";const ne=({onSubmit:r,title:s,children:i,back:l=!1,onBack:t=()=>{},skip:a=!1,onSkip:n=()=>{},next:o=!1,finish:c=!1})=>e.jsx("form",{onSubmit:w.eventPreventDefault(({target:p})=>{let x=new FormData(p);r(x)}),style:{display:"contents"},children:e.jsxs(v,{direction:"column",spacing:2,justifyContent:"start",alignItems:"stretch",sx:{width:"100%",minHeight:"100%"},children:[e.jsx(re,{title:s,children:i}),e.jsx("div",{style:{flexGrow:1}}),e.jsx(ie,{back:l,onBack:t,skip:a,onSkip:n,next:o,finish:c})]})}),ie=({back:r=!1,onBack:s=()=>{},skip:i=!1,onSkip:l=()=>{},next:t=!1,finish:a=!1})=>{const{t:n}=j();return e.jsxs(v,{direction:"row",spacing:2,children:[r&&e.jsx(u,{type:"button",variant:"outlined",color:"error",onClick:s,sx:{px:3},children:n("back")}),i&&e.jsx(u,{type:"button",variant:"contained",color:"primary",onClick:l,sx:{px:3},children:n("skip")}),e.jsx("div",{style:{flexGrow:1}}),t&&e.jsx(u,{type:"submit",variant:"outlined",color:"primary",sx:{px:3},children:n("next")}),a&&e.jsx(u,{type:"submit",variant:"contained",color:"primary",sx:{px:3},children:n("finish")})]})},re=({title:r,children:s})=>e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"h4",color:"text.primary",children:r}),e.jsx("div",{style:{width:"100%"},children:e.jsx(h,{container:!0,spacing:2,justifyContent:"start",alignItems:"stretch",children:s})})]}),le=({activeStep:r,data:s,pushData:i,healthReq:l})=>{const{t}=j(),a=b(!1);return e.jsxs(ne,{onSubmit:n=>{n.set("body",[`<p>Name: <b>${n.get("name")}</b></p>`,`<p>Email: <b>${n.get("email")}</b></p>`,`<p>Phone: <b>${n.get("phone")}</b></p>`,`<p>Age: <b>${M.parseDate(n.get("birthdate"),"dmy").age}</b></p>`,`<p>Gender: <b>${n.get("gender")}</b></p>`,`<p>Occupation: <b>${n.get("occupation")}</b></p>`,`<p>Insured amount: <b>${n.get("insured_amount")}</b></p>`,`<p>Premium amount in case of Investment: <b>${n.get("premium_amount")}</b></p>`,`<p>Disabilities: <br/> <b>${n.get("disabilities")}</b></p>`,`<p>Terms: <br/> <b>${n.get("terms")}</b></p>`].join("<br/>")),l.call({bodyData:n,onSuccess:({message:o,data:c})=>{a.value=!0},onError:({message:o,data:c})=>{alert("Error:"+o),console.log(o,c)}})},title:t("main_person_data"),finish:!0,children:[e.jsx(m,{name:"name",label:t("fullname"),placeholder:t("fullname_hint"),startIcon:e.jsx(S,{}),required:!0,initValue:s==null?void 0:s.name}),e.jsx(K,{name:"email",label:t("email"),placeholder:t("email_hint"),startIcon:e.jsx(_,{}),required:!1,initValue:s==null?void 0:s.email}),e.jsx(Y,{name:"phone",label:t("phone_number"),placeholder:t("phone_number_hint"),startIcon:e.jsx(P,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(Z,{name:"birthdate",label:t("birthdate"),startIcon:e.jsx($,{}),required:!0,initValue:s==null?void 0:s.birthdate}),e.jsx(J,{name:"gender",label:t("gender"),required:!0,startIcon:e.jsx(k,{}),options:[{value:"male",label:t("male")},{value:"female",label:t("female")}],initValue:s==null?void 0:s.gender}),e.jsx(m,{name:"occupation",label:t("Occupation"),placeholder:t("Occupation"),startIcon:e.jsx(E,{}),required:!0,initValue:s==null?void 0:s.Occupation}),e.jsx(d,{name:"insured_amount",label:t("Insured amount"),placeholder:t("Insured amount"),startIcon:e.jsx(V,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(d,{name:"premium_amount",label:t("Premium amount in case of Investment"),placeholder:t("Premium amount in case of Investment"),startIcon:e.jsx(q,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(m,{multiline:!0,name:"disabilities",label:t("Disabilities"),placeholder:t("Disabilities"),startIcon:e.jsx(B,{}),initValue:s==null?void 0:s.name}),e.jsx(m,{multiline:!0,name:"terms",label:t("Terms"),placeholder:t("Terms"),startIcon:e.jsx(T,{}),initValue:s==null?void 0:s.name}),e.jsx(C,{open:l.waiting,children:e.jsx(H,{color:"inherit"})}),e.jsx(ae,{open:a.value,icon:e.jsx(Q,{}),content:t("request_success"),actions:[oe({linkTo:"/",text:t("back"),flex:12})]})]})},ae=({open:r,onClose:s,maxWidth:i="xs",icon:l=e.jsx(X,{}),iconColor:t="secondary",content:a,actions:n=[]})=>e.jsxs(O,{open:r,onClose:s,fullWidth:!0,maxWidth:i,PaperProps:{sx:{overflow:"visible",overflowY:"visible"}},children:[e.jsx(g,{sx:{textAlign:"center",mt:-10},children:e.jsx(g,{sx:{bgcolor:"white.main",borderRadius:"100%",width:125,height:125,overflow:"hidden",mx:"auto"},children:G.cloneElement(l,{className:"animate-pulsate-fwd",sx:{width:"100%",height:"100%"},color:t})})}),e.jsx(L,{children:a,sx:{textAlign:"center"}}),e.jsx(U,{children:e.jsx(h,{container:!0,spacing:1,children:W.toArray(n,(o,{linkTo:c,onClick:p,close:x,variant:f,color:I,startIcon:y,text:D,flex:A})=>(x&&(c=null,p=s),e.jsx(h,{item:!0,xs:A,children:e.jsx(u,{...c?{component:N,to:c}:{onClick:p},variant:f,color:I,startIcon:y,children:D,fullWidth:!0,sx:{px:.5}})},`dal-${o}`)))})})]}),oe=({linkTo:r,onClick:s,close:i=!1,variant:l="outlined",color:t="secondary",startIcon:a,text:n,flex:o=6})=>({linkTo:r,onClick:s,close:i,variant:l,color:t,startIcon:a,text:n,flex:o});function pe(){const{t:r}=j(),s=ee(z,"client/life/send"),i=b(0),l={activeStep:i.value,nextStep:()=>i.value=i.value+1,prevStep:()=>i.value=i.value-1},t=b({}),a={data:t.value,pushData:n=>{const o={...t.value,...n};return t.value=o,o},setData:n=>t.value=n};return e.jsx(se,{title:r("Life Insurance"),icon:e.jsx(R,{}),children:e.jsx(te,{active:i.value,contents:[e.jsx(le,{...l,...a,healthReq:s},"1")]})})}export{pe as default};

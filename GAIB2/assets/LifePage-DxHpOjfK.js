import{j as e,b,d as f,a as h,B as p,f as I,G as d,g as y,F,M as g,h as D,Z as S,_ as A,$ as M,k as q,I as V,a0 as P,Q as _,i as x,K as k,N as B}from"./index-BWEcqMhN.js";import{A as m,b as C,a as O,h as j,c as w,d as T,e as H,f as L,g as U}from"./AppForm-BsNa3M_s.js";const E=({onSubmit:i,title:r,children:a,back:s=!1,onBack:t=()=>{},skip:o=!1,onSkip:n=()=>{},next:c=!1,finish:l=!1})=>e.jsx("form",{onSubmit:b.eventPreventDefault(({target:u})=>{let v=new FormData(u);i(v)}),style:{display:"contents"},children:e.jsxs(f,{direction:"column",spacing:2,justifyContent:"start",alignItems:"stretch",sx:{width:"100%",minHeight:"100%"},children:[e.jsx(N,{title:r,children:a}),e.jsx("div",{style:{flexGrow:1}}),e.jsx(G,{back:s,onBack:t,skip:o,onSkip:n,next:c,finish:l})]})}),G=({back:i=!1,onBack:r=()=>{},skip:a=!1,onSkip:s=()=>{},next:t=!1,finish:o=!1})=>{const{t:n}=h();return e.jsxs(f,{direction:"row",spacing:2,children:[i&&e.jsx(p,{type:"button",variant:"outlined",color:"error",onClick:r,sx:{px:3},children:n("back")}),a&&e.jsx(p,{type:"button",variant:"contained",color:"primary",onClick:s,sx:{px:3},children:n("skip")}),e.jsx("div",{style:{flexGrow:1}}),t&&e.jsx(p,{type:"submit",variant:"outlined",color:"primary",sx:{px:3},children:n("next")}),o&&e.jsx(p,{type:"submit",variant:"contained",color:"primary",sx:{px:3},children:n("finish")})]})},N=({title:i,children:r})=>e.jsxs(e.Fragment,{children:[e.jsx(I,{variant:"h4",color:"text.primary",children:i}),e.jsx("div",{style:{width:"100%"},children:e.jsx(d,{container:!0,spacing:2,justifyContent:"start",alignItems:"stretch",children:r})})]}),K=({activeStep:i,nextStep:r,prevStep:a,data:s,pushData:t,createLead:o})=>{const{t:n}=h();return e.jsxs(E,{onSubmit:c=>{let l=t(y.formDataToObj(c));o({name:l.name,phone:l.phone}),r()},title:n("main_person_data"),next:!0,children:[e.jsx(m,{name:"name",label:n("fullname"),placeholder:n("fullname_hint"),startIcon:e.jsx(F,{}),required:!0,initValue:s==null?void 0:s.name}),e.jsx(C,{name:"email",label:n("email"),placeholder:n("email_hint"),startIcon:e.jsx(g,{}),required:!1,initValue:s==null?void 0:s.email}),e.jsx(O,{name:"phone",label:n("phone_number"),placeholder:n("phone_number_hint"),startIcon:e.jsx(D,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(m,{name:"Occupation",label:n("Occupation"),placeholder:n("Occupation"),startIcon:e.jsx(S,{}),required:!0,initValue:s==null?void 0:s.Occupation}),e.jsx(j,{name:"Insured amount",label:n("Insured amount"),placeholder:n("Insured amount"),startIcon:e.jsx(A,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(j,{name:"Premium amount in case of Invsetment",label:n("Premium amount in case of Invsetment"),placeholder:n("Premium amount in case of Invsetment"),startIcon:e.jsx(M,{}),required:!0,initValue:s==null?void 0:s.phone}),e.jsx(w,{name:"birthdate",label:n("birthdate"),startIcon:e.jsx(q,{}),required:!0,initValue:s==null?void 0:s.birthdate}),e.jsx(T,{name:"gender",label:n("gender"),required:!0,startIcon:e.jsx(V,{}),options:[{value:"male",label:n("male")},{value:"female",label:n("female")}],initValue:s==null?void 0:s.gender}),e.jsx(m,{multiline:!0,name:"Disabilities",label:n("Disabilities"),placeholder:n("Disabilities"),startIcon:e.jsx(P,{}),required:!0,initValue:s==null?void 0:s.name}),e.jsx(m,{multiline:!0,name:"Terms",label:n("Terms"),placeholder:n("Terms"),startIcon:e.jsx(_,{}),required:!0,initValue:s==null?void 0:s.name})]})};function W(){const{t:i}=h(),r=H(B,"client/health/lead"),a=x(!1),s={leadCreated:a.value,createLead:({name:l,phone:u})=>{a.value===!1&&(r.call({bodyData:{user_name:l,phone:u}}),a.value=!0)}},t=x(0),o={activeStep:t.value,nextStep:()=>t.value=t.value+1,prevStep:()=>t.value=t.value-1},n=x({}),c={data:n.value,pushData:l=>{const u={...n.value,...l};return n.value=u,u},setData:l=>n.value=l};return e.jsx(L,{title:i("Life Insurance"),icon:e.jsx(k,{}),children:e.jsx(U,{active:t.value,contents:[e.jsx(K,{...o,...c,...s},"1")]})})}export{W as default};

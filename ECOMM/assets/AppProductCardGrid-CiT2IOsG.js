import{e as k,a as B,a6 as z,aq as C,j as s,H as G,b as A,J as L,L as V,M as W,A as F,B as H,T as c,_,ar as $,t as D}from"./index-AoyB9OX4.js";import{M as E,a as O}from"./MyGrid-36fAtSZw.js";import{A as v,a as M}from"./AppProductFavBtn-CwVwuI1b.js";import{A as w,M as U}from"./AppPriceText-BQQ7Zmm1.js";const I=({productId:a,product:e,inFav:x,inCart:h,inCheckout:i,quantity:n})=>{const{t:j,forLocale:l}=k(),{forDevice:r}=B(),o=(e==null?void 0:e.price)&&(e==null?void 0:e.price)>0,g=!(e!=null&&e.stock)||(e==null?void 0:e.stock)==="0",y=e==null?void 0:e.model,{getCartItemValue:S,getCartItemQty:T}=z(),t=S(a),m=n&&parseInt(n)*parseFloat(e==null?void 0:e.price),b=(h||i)&&t&&(t==null?void 0:t.toString())!==(e==null?void 0:e.price)||m&&(m==null?void 0:m.toString())!==(e==null?void 0:e.price),P=m??t,f=C(r);return s.jsxs(G,{variant:"outlined",sx:{position:"relative",width:"100%",height:f,bgcolor:"white.main",borderColor:"light.main"},square:!0,children:[s.jsxs(A,{height:"100%",direction:"column",children:[s.jsx(L,{component:V,to:`/product/${a}`,sx:{flexGrow:1},children:s.jsxs(A,{height:"100%",direction:"column",children:[s.jsx(W,{src:F.getMedia(e==null?void 0:e.thumbnail),alt:e==null?void 0:e[l({ar:"name_alt"},"name")],height:f/2,width:"100%",objectFit:"contain"}),s.jsxs(H,{sx:{px:.75,py:0},children:[s.jsx(c,{variant:"subtitle2",color:"primary",sx:{fontWeight:"bold",display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:e==null?void 0:e[l({ar:"name_alt"},"name")]}),y&&s.jsx(c,{variant:"subtitle2",color:"secondary",children:y}),o&&s.jsxs(_,{separator:s.jsx(c,{variant:r("caption","subtitle2"),children:`*${n??T(a)}`}),sx:{"& ol":{alignItems:"baseline"}},children:[s.jsx(w,{price:e==null?void 0:e.price,priceVariant:r(b?"subtitle1":"h5","h5"),currency:!b&&j("currency"),currencyVariant:"subtitle2",color:g?"primary":"secondary"}),b&&s.jsx(w,{price:P,priceVariant:r("subtitle2","h5"),currency:j("currency"),currencyVariant:r("caption","subtitle2"),color:g?"primary":"secondary"})]})]})]})}),o&&s.jsx($,{sx:{padding:.5},children:s.jsx(v,{productId:a,product:e,full:!1,size:"medium",fullWidth:!0,mobile:!0})})]}),o&&s.jsxs(U,{top:2,start:2,children:[x&&!i&&s.jsx(M,{productId:a,product:e,full:!1,size:"small",remover:!0}),(h||i)&&s.jsx(v,{productId:a,product:e,full:!1,size:"small",remover:!0}),!x&&!i&&s.jsx(M,{productId:a,product:e,full:!1,size:"small"})]})]})},N=({products:a,inFav:e,inCart:x,inCheckout:h})=>{const{forDevice:i}=B(),n=C(i);return s.jsx(E,{cols:{xs:2,sm:3,md:4,lg:5,xl:6},rowHeight:n,spacing:1,width:"100%",children:D(a,(j,l)=>s.jsx(O,{children:s.jsx(I,{productId:l.id,product:l,inFav:e,inCart:x,inCheckout:h})},`ps-${j}`))})};export{N as A};

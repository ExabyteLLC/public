import{E as d,e as i,a as v,z as y,a5 as b,a6 as L,a7 as C,r as I,j as e,d as _,C as M,m as P,b as g,M as w,a8 as D,H as S,a9 as W,T as r,B as $,aa as k,ab as A,ac as B,ad as E,a1 as F,q as T,L as q,a2 as z}from"./index-Buom24Y1.js";const G=()=>{const{nav:n}=d(),{t:a}=i(),{device:t,forDevice:x}=v(),l=y(),s=t==="mobile",{isClient:o,loginCall:m,loginWaiting:c}=b(),{cart:h}=L(),{fav:p}=C();return console.log(o),I.useLayoutEffect(()=>{o&&l(`/${n||""}`,{replace:!0})},[o,l,n]),e.jsx(_,{main:!1,header:a("login"),children:e.jsx(M,{fixed:!s,maxWidth:s?"desktop":"tablet",sx:{my:x(2,null,4)},children:e.jsxs("form",{onSubmit:P.eventPreventDefault((H,j)=>{let f=new FormData(j);m(f.get("telephone"),h,p)}),children:[e.jsx(R,{mobile:s,loading:c}),e.jsx(U,{mobile:s,loading:c})]})})})},u=({loading:n})=>{const{nav:a}=d(),{t}=i();return e.jsxs(e.Fragment,{children:[e.jsxs($,{sx:{width:"100%",textAlign:"start"},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:"bold"},children:t("welcome_greeting")}),e.jsx(r,{variant:"h6",sx:{color:"primary300.main"},children:t("login_desc")})]}),e.jsx(k,{label:t("mobile_number"),size:"normal",margin:"normal",fullWidth:!0,InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(B,{})}),sx:{py:1}},name:"telephone",type:"tel",required:!0,inputProps:{minLength:11,maxLength:11}}),e.jsx(E,{loading:n,loadingPosition:"start",startIcon:e.jsx(F,{}),variant:"contained",type:"submit",fullWidth:!0,children:t("login")}),e.jsx(T,{component:q,to:`/register${a?`/${a}`:""}`,replace:!0,variant:"outlined",color:"secondary",startIcon:e.jsx(z,{}),children:t("register_title")})]})},R=({mobile:n,loading:a})=>{const{t}=i();return n?e.jsxs(g,{spacing:3,alignItems:"center",children:[e.jsx(w,{src:D,alt:t("welcome_greeting"),width:100,height:100,style:{borderRadius:4}}),e.jsx(u,{loading:a})]}):null},U=({mobile:n,loading:a})=>{const{t}=i();return n?null:e.jsx(S,{variant:"outlined",children:e.jsx(W,{children:e.jsxs(g,{spacing:3,alignItems:"center",children:[e.jsx(r,{variant:"h3",children:t("login")}),e.jsx(u,{loading:a})]})})})};export{G as default};

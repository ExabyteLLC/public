import{e as L,a as B,a7 as S,ax as C,j as e,L as z,b as A,N as G,O as V,M as W,A as $,B as F,T as y,$ as O,ay as D,o as E}from"./index-D72gc-Hc.js";import{M as H,a as U}from"./MyGrid-DyOJg9hv.js";import{A as v,a as M}from"./AppProductFavBtn-DIWj7QFL.js";import{A as w,M as _}from"./AppPriceText-CRBV_3XZ.js";const I=({productId:a,product:s,inFav:m,inCart:h,inCheckout:i,quantity:n})=>{const{t:o,forLocale:l}=L(),{forDevice:r}=B(),j=(s==null?void 0:s.price)&&(s==null?void 0:s.price)>0,c=!(s!=null&&s.stock)||(s==null?void 0:s.stock)==="0",g=s==null?void 0:s.model,{getCartItemValue:k,getCartItemQty:P}=S(),t=k(a),x=n&&parseInt(n)*parseFloat(s==null?void 0:s.price),b=(h||i)&&t&&(t==null?void 0:t.toString())!==(s==null?void 0:s.price)||x&&(x==null?void 0:x.toString())!==(s==null?void 0:s.price),T=x??t,f=C(r);return e.jsxs(z,{variant:"outlined",sx:{position:"relative",width:"100%",height:f,bgcolor:"white.main",borderColor:"light.main"},square:!0,children:[e.jsxs(A,{height:"100%",direction:"column",children:[e.jsx(G,{component:V,to:`/product/${a}`,sx:{flexGrow:1},children:e.jsxs(A,{height:"100%",direction:"column",children:[e.jsx(W,{src:$.getMedia(s==null?void 0:s.thumbnail),alt:s==null?void 0:s[l({ar:"name_alt"},"name")],height:f/2,width:"100%",objectFit:"contain"}),e.jsxs(F,{sx:{px:.75,py:0},children:[e.jsx(y,{variant:"subtitle2",color:"primary",sx:{fontWeight:"bold",display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:s==null?void 0:s[l({ar:"name_alt"},"name")]}),g&&e.jsx(y,{variant:"subtitle2",color:"secondary",children:g}),j&&e.jsxs(O,{separator:e.jsx(y,{variant:r("caption","subtitle2"),children:`*${n??P(a)}`}),sx:{"& ol":{alignItems:"baseline"}},children:[e.jsx(w,{price:s==null?void 0:s.price,priceVariant:r(b?"subtitle1":"h5","h5"),currency:!b&&o("currency"),currencyVariant:"subtitle2",color:c?"primary":"secondary"}),b&&e.jsx(w,{price:T,priceVariant:r("subtitle2","h5"),currency:o("currency"),currencyVariant:r("caption","subtitle2"),color:c?"primary":"secondary"})]})]})]})}),j&&e.jsx(D,{sx:{padding:.5},children:e.jsx(v,{productId:a,product:s,full:!1,size:"medium",fullWidth:!0,mobile:!0})})]}),j&&e.jsxs(_,{top:2,start:2,children:[m&&!i&&e.jsx(M,{productId:a,product:s,full:!1,size:"small",remover:!0}),(h||i)&&e.jsx(v,{productId:a,product:s,full:!1,size:"small",remover:!0}),!m&&!i&&e.jsx(M,{productId:a,product:s,full:!1,size:"small"})]})]})},Q=({products:a,inFav:s,inCart:m,inCheckout:h})=>{const{forDevice:i}=B(),n=C(i);return e.jsx(H,{cols:{xs:2,sm:3,md:4,lg:5,xl:6},rowHeight:n,spacing:1,width:"100%",children:E.toArray(a,(o,l)=>e.jsx(U,{children:e.jsx(I,{productId:l.id,product:l,inFav:s,inCart:m,inCheckout:h})},`ps-${o}`))})};export{Q as A};

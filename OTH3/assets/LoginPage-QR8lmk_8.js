import{H as d,e as o,a as v,G as y,a6 as b,a7 as L,a8 as T,r as C,j as e,d as w,C as I,k as P,b as g,M as k,a9 as A,L as M,aa as B,T as r,B as D,ab as W,ac as _,ad as F,ae as E,a2 as S,t as $,O as R,a3 as U}from"./index-D72gc-Hc.js";const N=()=>{const{nav:t}=d(),{t:s}=o(),{device:n,forDevice:u}=v(),l=y(),a=n==="mobile",{isClient:i,loginCall:h,loginWaiting:c}=b(),{cart:m}=L(),{fav:p}=T();return console.log(i),C.useLayoutEffect(()=>{i&&l(`/${t||""}`,{replace:!0})},[i,l,t]),e.jsx(w,{main:!1,header:s("login"),children:e.jsx(I,{fixed:!a,maxWidth:a?"desktop":"tablet",sx:{my:u(2,null,4)},children:e.jsxs("form",{onSubmit:P.eventPreventDefault((G,j)=>{let f=new FormData(j);h(f.get("telephone"),m,p)}),children:[e.jsx(q,{mobile:a,loading:c}),e.jsx(z,{mobile:a,loading:c})]})})})},x=({loading:t})=>{const{nav:s}=d(),{t:n}=o();return e.jsxs(e.Fragment,{children:[e.jsxs(D,{sx:{width:"100%",textAlign:"start"},children:[e.jsx(r,{variant:"h5",children:n("welcome_greeting"),sx:{fontWeight:"bold"}}),e.jsx(r,{variant:"h6",children:n("login_desc"),sx:{color:"primary300.main"}})]}),e.jsx(W,{label:n("mobile_number"),size:"normal",margin:"normal",fullWidth:!0,InputProps:{endAdornment:e.jsx(_,{position:"end",children:e.jsx(F,{})}),sx:{py:1}},name:"telephone",type:"tel",required:!0,inputProps:{minLength:11,maxLength:11}}),e.jsx(E,{loading:t,loadingPosition:"start",startIcon:e.jsx(S,{}),variant:"contained",type:"submit",children:n("login"),fullWidth:!0}),e.jsx($,{component:R,to:`/register${s?`/${s}`:""}`,replace:!0,variant:"outlined",color:"secondary",startIcon:e.jsx(U,{}),children:n("register_title")})]})},q=({mobile:t,loading:s})=>{const{t:n}=o();return t?e.jsxs(g,{spacing:3,alignItems:"center",children:[e.jsx(k,{src:A,alt:n("welcome_greeting"),width:100,height:100,style:{borderRadius:4}}),e.jsx(x,{loading:s})]}):null},z=({mobile:t,loading:s})=>{const{t:n}=o();return t?null:e.jsx(M,{variant:"outlined",children:e.jsx(B,{children:e.jsxs(g,{spacing:3,alignItems:"center",children:[e.jsx(r,{variant:"h3",children:n("login")}),e.jsx(x,{loading:s})]})})})};export{N as default};
